# 12/06 :
#     we ll set-up DATABASE :
# pip install flask-sqlalchemy

# python : >>> from app import db
# >>> db.create_all() >>> from app import User, Post 
# >>> User.query.all()
# []
# >>>

# scp -r C:\Users\hp\Desktop\dev\PROJECTS\africanhub\AJITKHDEM_V2 yassine@54.164.174.101:/home/code/yassine/projet_v2 

# linx command :
# sudo su
#  apt update && apt upgrade

# hostnamectl set-hostname flask-servur
# hostname
# vi /etc/hosts => under 127a add my servur ip + host (flask-servur)
# step 2 : iwll add new user( to navigate safe)
# adduser yourusername
# adduser yacin

# adduser yacin sudo ()
# su - yacin
#  sudo nano /etc/ssh/sshd_config => (permitrootloggin:no +PasswordAuthentication no )
# sudo systemctl restart sshd

# next step : set-up farewall
# sudo apt install ufw
# sudo ufw default allow outgoing
# sudo ufw default deny incoming
# sudo ufw allow ssh
# sudo ufw allow 5000
# sudo ufw enable

# sudo ufw status
# ### Step 3 #################################
# put our web app in webservur
#  pip freeze (in my local to se what iv installed)
# scp to send projet to servur
# sudo apt install python3-pip 

# python3 -m venv (creat new venv) sudo apt install python3-venv

# source venv/bin/activate (ctivate ven)
# sudo touch /etc/config.json
# sudo nano /etc/config.json
# then copy secret key & sql alchmy uri emaol user& passls
# 'min 41 madrthach)

# '
# export FLASK_APP=run.py
# (venv) yacin@flask-servur:~/AJITKHDEM_V2$  flask run --host=0.0.0.0 

# db ankhdmo bngnix / support lot of traffic & best performance

# sudo apt install ngnix

# pip install gunicorn
# sudo rm /etc/nginx/sites-enabled/default 


# sudo nano /etc/nginx/sites-enabled/AJITKHDEM_V2  => checki hada hhhservur{ 
#         listen 80;
#         servur_name 54.160.115.129;
#         location /static {
#                 alias /home/yacin/AJITKHDEM_V2/app/static;
#         }
#         location / { 
#                 proxy_pass http://localhost:8000;
#                 include /etc/proxy_params;
#                 proxy_redirect off;
#         }
# }
# sto at 40
# gunicorn -w 3 run:app # to run my app
#  sudo apt install supervisor # to keep it running 24/24
#  sudo nano /etc/supervisor/conf.d/AJITKHDEM_V2.conf  => directory=/home/yacin/AJITKHDEM_V2
#                 commande=/home/yacin/AJITKHDEM_V2/venv/bin/gunicorn -w 3 run:app
#                 user=yacin
#                 autostart=true
#                 autorestart=true
#                 stopasgroupt=true
#                 killasgroup=true
#                 stderr_logfile=/var/log/AJITKHDEM_V2/AJITKHDEM_V2.err.log
#                 stdout_logfile=/var/log/AJITKHDEM_V2/AJITKHDEM_V2.out.log



# DAY 2 : 12/14
# iwill add category to post foorm 